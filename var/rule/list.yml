# output list
list:
  # id, list below
  - cn r-cn vlcn
  - chn cn dnsmasqcn
  - jp r-jp vljp
  - tw r-tw vltw
  - us r-us vlus
  - >-
    world
    -cn -jp -tw -us
    r-world vlworld gfwlist
  - >-
    block
    adguard vlblock

# V2fly domain List Community
vlc:
  # id list
  vlcn:
    - geolocation-cn
    - tld-cn
  vljp:
    - 5ch
    - abema
    - cygames
    - dlsite
    - dlsite
    - dmm
    - misskey
    - niconico
    - pixiv
    - projectsekai
    - rakuten
  vltw:
    - 18comic
    - bahamut
    - kktv
    - picacg
    - viu
  vlus:
    - ehentai
  vlworld:
    - apple
    - microsoft
    - geolocation-!cn
    - category-porn
  vlblock:
    - category-ads-all
    - category-httpdns-cn

# Parse Online list
# {reg}
rex:
  - url: https://cdn.jsdelivr.net/gh/gfwlist/gfwlist/gfwlist.txt
    # use preprocessor
    pre: [b64]
    # use regular expression to convert into sublist
    get:
      gfwlist:
        # match pattern, expand pattern
        - d  ^\=adbgs\\=dn\\=aded\  .\1
        - d  ^\=adbgn\\=dn\\=aded\  \1

  - url: https://cdn.jsdelivr.net/gh/felixonmars/dnsmasq-china-list/accelerated-domains.china.conf
    get:
      dnsmasqcn:
        - d  ^server=/\=dn\/[\d\.]+  .\1

  - url: https://filters.adtidy.org/ios/filters/15.txt
    get:
      adguard:
        - d  ^\=adbgs\\=dn\\=aded\  .\1
        - d  ^\=adbgn\\=dn\\=aded\  \1

# variables refered with '\=name\'
var:
  adbgs: (?:\|\||\.)
  adbgn: (?:\|?|\|?[a-z]*://)
  aded: (?:$|\^|\$|/|%2F|%2f)
